<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>  
    <link rel="stylesheet" href="css/estilos.css">
    <title>Lista de Productos</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js" 
        integrity="sha512-RNLkV3d+aLtfcpEyFG8jRbnWHxUqVZozacROI4J2F1sTaDqo1dPQYs01OMi1t1w9Y2FdbSCDSQ2ZVdAC8bzgAg==" 
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/normalizr@3.6.1/dist/normalizr.browser.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>

</head>
<body>
    <h1>Desafio 44</h1>
    <ul>

        <li><a href="/login">Login</a></li>

        <li><a href="/productos/vista">Vista de productos</a></li>

        <li><a href="/productos/nuevo-producto">Ingresar Producto</a></li>

        <li><a href="/chat">Volver al Chat</a></li>

        <li><a href="/info">Información del proceso</a></li>

        <li><a href="/randoms">Calcular Randoms</a></li>

    </ul>

    <div class="form-group">
        <form action="/logout" method="get" class="form-horizontal" role="form">
            <div class="form-group last" style="margin-bottom:0px;">
              <div class="col-sm-offset-3 col-sm-9">
                <input type="hidden" name="form" value="1" />
                <button type="submit" class="btn btn-success btn-sm">
                  Desloguearse
                  </button>
              </div>
            </div>
        </form>
    </div>



    <div class="container-fluid mt-3">
        <h1>Mi App Chat</h1>
    

    
        <form class="form-inline" onsubmit="return addMessage(this)" autocomplete="off">
          <input type="email" id="username" class="form-control my-2 mr-2" placeholder="Tu Correo electrónico">
          <input type="text" id="nombre" class="form-control my-2 mr-2" placeholder="Nombre">
          <input type="text" id="apellido" class="form-control my-2 mr-2" placeholder="Apellido">
          <input type="text" id="edad" class="form-control my-2 mr-2" placeholder="Edad">
          <input type="text" id="alias" class="form-control my-2 mr-2" placeholder="Alias">
          <input type="text" id="avatar" class="form-control my-2 mr-2" placeholder="Avatar">
          <input type="text" id="texto" class="form-control my-2 mr-2" placeholder="Escribe algo...">
          <input class="btn btn-primary my-2" type="submit" value="Enviar!">
        </form>


        <div id="messages"></div>


      </div>

    <script src="/index.js"></script>

    <script>
      //1
      // fetch('/productos/graphql?query={productos}')
      // .then(r => r.json())
      // .then(data => console.log(data))
      // .catch(console.error)

      //2
      // fetch('/graphql?query={messages}')
      // .then(r => r.json())
      // .then(data => console.log(data))
      // .catch(console.error)

      //3
      // fetch('/productos/graphql', {
      //     method: 'POST',
      //     headers: {
      //         'Content-Type': 'application/json',
      //         'Accept': 'application/json',
      //     },
      //     body: JSON.stringify({ query: "{ productos }" })
      // })
      // .then(r => r.json())
      // .then(data => console.log(data))
      // .catch(console.error)

      //4
      // fetch('/graphql', {
      //     method: 'POST',
      //     headers: {
      //         'Content-Type': 'application/json',
      //         'Accept': 'application/json',
      //     },
      //     body: JSON.stringify({ query: "{ messages }" })
      // })
      // .then(r => r.json())
      // .then(data => console.log(data))
      // .catch(console.error)

      //5
      /* var query = `
          query getSingleCourse($courseID: Int!) {
              course(id: $courseID) {
                  title
                  author
                  description
                  topic
                  url
              }
          }
      `;
      var variables = {"courseID":1} */

      /*
      //6
      var query = `
          query getSingleCourse($topic: String!) {
              courses(topic: $topic) {
                  title
                  author
                  description
                  topic
                  url
              }
          }
      `;
      var variables = {"topic":"Node.js"}
      */
      
      /*
      //7
      var query = "{ message }"
      var variables = {}
      */

      //8
      /* var query = `
          query getCourseWithFragments($courseID1: Int!, $courseID2: Int!) {
              course1: course(id: $courseID1) {
                      ...courseFields
              },
              course2: course(id: $courseID2) {
                      ...courseFields
              } 
          }
          fragment courseFields on Course {
              title
              author
              description
              topic
              url
          }
      `;
      var variables = { 
          "courseID1":1,
          "courseID2":2
      } */

      //9
      /*
      var query = `
          mutation updateCourseTopic($id: Int!, $topic: String!) {
              updateCourseTopic(id: $id, topic: $topic) {
                  ... courseFields
              }
          }
          fragment courseFields on Course {
              title
              author
              description
              topic
              url
              id
          }
      `;
      var variables = { 
          "id": 2,
          "topic": "JavaScript"
      }
      */

      //10
      //var query = "{ numeros }"
      /* var query = `
          query getCursos {
              cursos {
                  title
                  author
                  description
                  topic
                  url
              }
          }
      ` */
    </script>

</body>
</html>